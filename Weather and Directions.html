<!DOCTYPE html>

<html>
<style>
h1  {
	color: deepskyblue;
	text-align: center;
	padding: 30px 15 px;
}
html {
background: rgb(249,252,252);
background: linear-gradient(90deg, rgba(249,252,252,1) 0%, rgba(32,240,238,1) 37%, rgba(135,219,240,1) 70%, rgba(0,212,255,1) 100%);
}
</style>
    <head>
        <title>Geocoding Service</title> 
    </head>
    <body>
    <h1> Use the Google Maps/Geocoding API to drop pins of Kenan Stadium and your location to see directions! </h1>
        <div id="floating-panel">
            <input id="address" type="text" value="Kenan Stadium" />
            <input id="submit-btn" type="button" value="Geocode" />
        </div>

        <div id="map" style="height: 500px;"></div>
        
        <script async="true" defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD03ECIp84WRiFGjsnaT7gJLwcS_H2GDvo&callback=initMap" type="">
</script>


        <script>
            function initMap() {
                const map = new google.maps.Map(document.getElementById("map"), {
                    zoom: 8,
                    center: {
                        lat: 35.9070,
                        lng: -79.0479
                    }
                });

                const geocoder = new google.maps.Geocoder();
                document.getElementById("submit-btn").addEventListener("click", () => {
                    geocodeAddress(geocoder, map);
                });
            }
            function geocodeAddress(geocoder, resultsMap) {
                const address = document.getElementById("address").value;

                geocoder.geocode({ address: address }, (results, status) => {
                    if (status === "OK") {
                        console.log(results);
                        resultsMap.setCenter(results[0].geometry.location);
                        new google.maps.Marker({
                            map: resultsMap,
                            position: results[0].geometry.location,
                        });
                    } else {
                        alert("Error!: " + status);
                    }
                });
            }
        </script>
    </body>
</html>